<html>

<head>
    <title>HERE Touch Demo</title>
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">

    <link rel="stylesheet" type="text/css" href="http://www.unpkg.com/heremap@2.0.6/css/heremap.css" />

</head>

<body>
    <div id="map"></div>

    <!--  our business logic -->
    <script src="http://www.unpkg.com/heremap@2.0.6/dist/libhere.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="http://www.unpkg.com/heremap@2.0.6/dist/heremap.min.js" type="text/javascript" charset="utf-8"></script>

    <!--  convenient way to define APP_ID and APP_CODE and bnot expose it to the whole world... -->
    <script src="credentials.js" type="text/javascript" charset="utf-8"></script>

    <script>

        var hm = window.heremap;

        function initMap() {

            //configure APP_ID and APP_CODE
            hm.config({
                app_id: APP_ID,
                app_code: APP_CODE,
            });

            // show map fragment
            // to see console message, open debugger window
            hm.map(
                "map", {
                    zoom: 6,
                    viewChange: (zoom, coord) => { console.log("viewchange", zoom, coord) },
                    click: (coord, button, key) => { console.log("click", coord, button, key) }
                }
            );

            hm.touch(true, {
                tolerance: 2,
                // keep: true,
                layer: "dummy",
                callback: function (coords) {
                    console.log(coords);
                    hm.polyline({ coords: coords });
                }
            });
        };


        initMap();

    </script>
</body>


</html>